<div id="users">
  <%= form_for [:admin, @user] do |f| %>
    <div class="row">
      <%= render "shared/error_messages", object: @user %>
      <div class="col-md-6">
        <div class="form-group">
          <%= f.label :name %>
          <%= f.text_field :name, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.label :email %>
          <%= f.text_field :email, class: "form-control" %>
        </div>

        <% if policy(controller: "users", action: "edit") %>
          <%= link_to "edit role", admin_user_change_roles_path(@user) unless
            @user.new_record? %>
          <div class="form-group">
            <%= f.label :trainer_id %>
            <%= f.select :trainer_id, options_for_select(@supports.trainers
              .collect{|trainer| [trainer.name, trainer.id,
              {"data-location-id": trainer.profile_location_id}]},
              f.object.trainer_id), {include_blank: true},
              class: "form-control" %>
          </div>
        <% end %>
      </div>
      <%= render "shared/edit_profile_form", f: f %>
    </div>

    <%= render "profile_form", f: f %>

    <div class="row">
      <div class="col-md-12">
        <% if f.object.new_record? %>
          <%= f.submit t("buttons.create_and_continue"),
            name: "create_and_continue",
            class: "btn btn-primary pull-right btn-create-and-continue btn-submit" %>
          <%= f.submit t("buttons.create"), class: "btn btn-primary pull-right btn-submit" %>
        <% else %>
          <%= f.submit t("buttons.update"), class: "btn btn-primary pull-right btn-submit" %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
<% [@supports.location, @supports.user_type, @supports.university, @supports.
  status, @supports.programming_language].each do |object| %>
  <div class="modal fade modal-form" id="<%= object.class.name.downcase %>-modal" role="dialog">
    <%= render "shared/quick_form", object: object, managers: @supports.managers %>
  </div>
<% end %>
